from .solution import get_distant_coord, area_all_occupation, grid_single_occupation, parse_points, solution_1

EXAMPLE = """1, 1
1, 6
8, 3
3, 4
5, 5
8, 9
"""


def test_dist():
    assert get_distant_coord((3, 3), 0) == [(3, 3)]
    assert get_distant_coord((3, 3), 1) == [(3, 4), (4, 3), (3, 2), (2, 3)]
    assert get_distant_coord((3, 3), 2) == [
        (3, 5),
        (4, 4),
        (5, 3),
        (4, 2),
        (3, 1),
        (2, 2),
        (1, 3),
        (2, 4),
    ]
    assert get_distant_coord((3, 3), 3) == [
        (3, 6),
        (4, 5),
        (5, 4),
        (6, 3),
        (5, 2),
        (4, 1),
        (3, 0),
        (2, 1),
        (1, 2),
        (0, 3),
        (1, 4),
        (2, 5),
    ]


def test_grid():
    assert grid_single_occupation(parse_points(EXAMPLE)) == [[[(1, 1)], [(1, 1)], [(1, 1)], [(1, 1)], [(1, 1)], [], [(8, 3)], [(8, 3)], [(8, 3)]], [[(1, 1)], [(1, 1)], [(1, 1)], [(1, 1)], [(1, 1)], [], [(8, 3)], [(8, 3)], [(8, 3)]], [[(1, 1)], [(1, 1)], [(1, 1)], [(3, 4)], [(3, 4)], [(5, 5)], [(8, 3)], [(8, 3)], [(8, 3)]], [[(1, 1)], [(1, 1)], [(3, 4)], [(3, 4)], [(3, 4)], [(5, 5)], [(8, 3)], [(8, 3)], [(8, 3)]], [[], [], [(3, 4)], [(3, 4)], [(3, 4)], [(5, 5)], [(5, 5)], [(8, 3)], [(8, 3)]], [[(1, 6)], [(1, 6)], [], [(3, 4)], [(5, 5)], [(5, 5)], [(5, 5)], [(5, 5)], [(8, 3)]], [[(1, 6)], [(1, 6)], [(1, 6)], [], [(5, 5)], [(5, 5)], [(5, 5)], [(5, 5)], []], [[(1, 6)], [(1, 6)], [(1, 6)], [], [(5, 5)], [(5, 5)], [(5, 5)], [(8, 9)], [(8, 9)]], [[(1, 6)], [(1, 6)], [(1, 6)], [], [(5, 5)], [(5, 5)], [(8, 9)], [(8, 9)], [(8, 9)]]]



def test_sol_1():
    assert solution_1(EXAMPLE) == 17

def test_sol_2():
    assert area_all_occupation(parse_points(EXAMPLE), 32) == 16
